<html><head><title>
YaST2 Printer Library
</title></head><body>
<H3>YaST2 Printer Library</H3>
This library file provides functions used by YaST2 CUPS and Printer
configuration tools.
<h4>Starting</h4>
Tries to find out which print spooler is installed and runs according
configuration tool. If both or none spooler is installed, shows message and
exits. Argument .nodetection is passed through to module being run.<br>
<tt>yast2 printer<br>
yast2 printer .nodetection</tt><br>
<h4>Proposal</h4>
Runs proposal module used in installation. For internal use only.<br>
<h4>Detection</h4>
Detection of parallel and usb printers. Detection of exact model of USB Epson
Styluses. Waking up of USB Epson Styluses. See functions in
<a href="autodocs/Printer.html">Printer.ycp</a>.
<h4>Testing</h4>
Various functions to test queue names, host names, connections to remote
printers. Preparation of testpages. See functions in
<a href="autodocs/Printer.html">Printer.ycp</a>.
<h4>Ascii test page</h4>
It is possible to add a localized string into the test page but better
solution should be chosen. There are texts <tt>!!! YOUR ENCODING !!!</tt>,
<tt>!!! YOUR TEXT !!!</tt> and <tt>!!! COMMON EXPLANATION !!!</tt> in po file.
Long comment is provided for each of them but it seems like some translators
just ignore them. YOUR ENCODING shouldn't be translation of these words, but
<tt>iso-8859-2</tt> for Czech for example, YOUR TEXT should be any text in
your encoding with accents. A variation of "Quick brown fox jumped over lazy
old dog.". COMMON EXPLANATION should be non accented (pure ascii) text. What
to do? I can't change these special strings to something meningful and hope it
will be properly translated as well as I can't that it will be properly
translated in current state. I am affraid there is no way out :-(.<br>
One more problem: New <tt>hpijs</tt> drivers didn't print upper line. 2
empty lines were added at the top of the ascii test page because of this. It
only fixes test page printing and in fact it causes more problems with
printing in real-life. But it is too hard to explain margin fine-tuning so we
stuck to this solution. <font color="red">TODO: arrange a change here with
Johannes. Perhaps some hint like: if you do not see number 1 in the
upper-right corner of the page, do following...</font>
<h4>Postscript test page</h4>
PS test page is designed to work in cooperation between printer database and
printconf. This cooperation comprises localization and printing of the printer
type and options. The processes are described in printer db and printconf
documentation. But now a few words about hi-color picture. If a better picture
is found, you can edit it in gimp so as its size is SOMETHING x 320 and save
it as postscript. Replace the original image from comment "Image geometry" to
the empty lines before the last grestore. Change sighn of 4th number in
transformation matrix array. Then play with 2 lines before comment
"Image geometry". First of them is placement -- upper left corner of the image
and the second is scaling. Simply said: there is a number, currently 2, which
is image_width/image_height. Replace this value by desired
image_width/image_height.<br>
The only interesting fact about the test page is that it is resizable. It
should resize properly by the paper size. It doesn't work well for small papers
as A6 but I believe it is OK.
<h4>Switching to other spool system</h4>
Uses <tt>sw_single</tt> module to uninstall and install packages. See
<a href="autodocs/Printer.html#switchTo">switchTo</a>.
<h4>Printer uri</h4>
By the cups conventions, printer device is determined by uri. This convention
was brought to both cups and lpd configuration (printconf) tools. What is uri?
<dd>
<tt>method://path</tt></dd><br> where method is one of <dd>
<tt>parallel, serial, usb,
file, smb, lpd, prefilter, ipp, http, socket</tt>,</dd><br>
some of them are valid
only for cups, some only for printconf. Path depends on method. For local
printers it is just a path to a printer device (/dev/lp0, /tmp/printer.ps),
for remote printers it is a combination of server and path to queue, for
prefilter queue it is a name of the queue to forward printout to. Examples of
uris: <br><dd>
<tt>parallel:/dev/lp0, lpd://printserv.suse.de/lp,
ipp://cups.suse.de/printers/lp, prefilter://raw,
samba://user:password@samba.suse.de/queue, socket://hp.suse.de</tt></dd><br>
Functions for uri manipulation are <tt>getUriXXXX</tt>.

<hr>
See <a href="autodocs/index.html">autogenerated documentation</a>.
</body></html>
