<HTML>
<HEAD>
   <TITLE>YaST2 Printer configuration, Overview</TITLE>
   <STYLE type="text/css">
   BODY { 
     color: black;
     background: white
   }
   </STYLE>
</HEAD>
<BODY>
<H2>YaST2 Printer configuration, Overview</H2>
<P>
YaST2 Printer configurator (printconf) should help user to set up local and
network printers.<BR>
<B>Requires:</B> <TT>lprng</TT> and <TT>lpdfilter</TT>.<br>
<B>Does not work with CUPS!!!</B><br>
<B>History:</b> apsfilter was the filtering software used in SuSE Linux till
version 7.3. In 8.0 packages <tt>lprold</tt> (original bsd lpr) and
<tt>plp</tt> were dropped and <tt>apsfilter</tt> was dropped in favor of
<tt>lpdfilter</tt>.
</P>
<h3>Printer vs. Queue</h3>
<p>
For understanding the printer configuration problems you should keep in mind
that there is a difference between physical device - <b>Printer</b> and
logical device - <b>Queue</b>. There can be any number of queues assigned to
one printer. SuSE printing scheme uses this fact. New printer database is
designed with the goal to simplify creation of more queues with different
settings for one printer. Typicaly for color inkjet printer there will be up
to 4 automaticaly configured queues: <tt>lp</tt>, <tt>color</tt>,
<tt>high</tt> and <tt>photo</tt>, where <tt>lp</tt> is a fast monochrome
queue. Another configurations may be available for manual configuration: the
same as mentioned but with an alternative driver, higher or lower resolutions
or other special parameters. When we talk about pritner database item used by
a printer queue, we say <b>configuration</b> of the queue.<br>
There can be special kind of queue - <b>raw</b> queue. This queue doesn't
perform filtering and sends the data to the printer unchanged. Hence there is
no connection with the printer database.<br>
Another special kind of queue is <b>ascii</b> queue. This queue performs
filtering but it prints all files as texts. For example when you print
postscript file on an ascii queue, you get the postscript source out of the
printer.<br>
</p>
<h3>lpdfilter</h3>
<p>
lpdfilter has replaced apsfilter in SuSE linux 8.0. Although it is much better
than apsfilter it still isn't ideal when comparing to cups. In cups, access to
all the types of queues have the same interface. LPRng isn't bundled together
with lpdfilter which means that users may but needn't use only lpdfilter, they
may use whichever filter they want. But YaST2 can edit only queues created by
YaST2 using lpdfilter. 
</p>
<h2>Printer types</h2>
<p>
In general there are 2 types of print queues. Queue with filtering and raw
queue. <ul>
<li><b>Queue with filtering:</b> has assigned a configuration from printer
database which defines which filter it uses and which options can be set.
Special kind of filtering queue is an ascii queue. It prints all the files as
their are text files. For example postscript is printed as a postscript
source code.</li>
<li><b>Raw queue:</b> doesn't perform filtering at all.</li>
</ul>
Regarding this split there is a difference between 7.3 with apsfilter and 8.0
with with lpdfilter. In apsfilter, filtering (-auto) queue, raw (-raw) and
ascii (-ascii) queues were created by default. Lpdfilter creates exactly one
queue per one call. That's why there is the new option to create raw queue or
ascii queue in printconf.
</p>
<p>
We can divide queues by connection. See <a
href="spec_connection.html">spec_connection.html</a> for connection reference.
But from the viewpoint of printconf there are no internal differences between
various types of queues. The only difference is whether queue performs
filtering or is raw. Note that forwarding queues are always raw (<font
color="red">FIXME: ensure that "raw" is set to true for this type of queue and
check the tests for showing "test" button.</font>) and other queues are
filtering by default. Despite of the possibility of changing "prefilter queue
for remote printer" to raw, it has no sense to do it. If you want raw
forwarding queue, use "forwarding queue" instead. <font color="red">TODO:
Currently it is only possible to create prefilter queue to forwarding queue.
It should be possible to create a prefilter queue to any kind of queue.</font>
</p>
<h2>The workflow</h2>
<p>
Actually there are 3 types of workflow.
<ol>
<li><b>autoconfiguration</b> for automatic configuration of detected
printers. It's currently accessible only from installation (<font
color="red">FIXME</font>)</li>
<li><b>autodetected printers</b> for manual configuration of autodetected
printers -- this is started by default from control center.</li>
<li><b>manual configuration/editation</b> starting in complex dialog.</li>
</ol>
</p>
</BODY>
