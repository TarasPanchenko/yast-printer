@HEADER-COMMENT@

@HEADER@

BuildRequires:  update-desktop-files xorg-x11-libX11-devel yast2 yast2-core-devel yast2-devtools yast2-testsuite

Recommends:     cups-client iptables netcat samba-client

Requires:     /bin/mktemp /bin/ping /usr/bin/sed
Requires:     yast2 >= 2.16.12

Provides:     yast2-config-cups yast2-agent-cups yast2-lib-printer yast2-config-printer y2c_cups y2c_prnt y2l_printer y2a_cups yast2-trans-printer yast2-trans-libprinter yast2-trans-cups yast2-cups-devel
Obsoletes:    yast2-config-cups yast2-agent-cups yast2-lib-printer yast2-config-printer y2c_cups y2c_prnt y2l_printer y2a_cups yast2-trans-printer yast2-trans-libprinter yast2-trans-cups yast2-cups-devel

Provides:     yast2-agent-cups-devel y2d_prnt y2t_prnt
Obsoletes:    yast2-agent-cups-devel y2d_prnt y2t_prnt

# Used to exclude libX11, libXau, libxcb, and libxcb-xlib from the requires list
# which are pulled in by Autoreqprov because of the basicadd_displaytest tool:
%define my_requires /tmp/my-requires

Summary:      YaST2 - Printer Configuration

%package devel-doc
Group:          Documentation/SUSE
BuildRequires:  cups-devel yast2-core-devel
Summary:        Developer documentation for yast2-printer

%description
This package contains the YaST2 component for printer configuration.

%description devel-doc
Developer documentation for yast2-printer.

@PREP@

@BUILD@

@INSTALL@
# Exclude libX11, libXau, libxcb, and libxcb-xlib from the requires list
# which are pulled in by Autoreqprov because of the basicadd_displaytest tool:
cat << EOF > %{my_requires}
grep -v 'basicadd_displaytest' | %{__find_requires}
EOF
chmod 755 %{my_requires}
%define __find_requires %{my_requires}

%post

@CLEAN@

%files
%defattr(-,root,root)
%dir @yncludedir@/printer
@desktopdir@/printer.desktop
@moduledir@/*.y*
@clientdir@/printer*
@yncludedir@/printer/*
@schemadir@/autoyast/rnc/printer.rnc
@scrconfdir@/*
@agentdir@/*
@ydatadir@/testprint.ps
@ybindir@/autodetect_print_queues
@ybindir@/autodetect_printers
@ybindir@/create_printer_ppd_database
@ybindir@/determine_printer_driver_options
@ybindir@/cups_client_only
@ybindir@/modify_cupsd_conf
@ybindir@/test_device
@ybindir@/test_remote_ipp
@ybindir@/test_remote_lpd
@ybindir@/test_remote_novell
@ybindir@/test_remote_smb
@ybindir@/test_remote_socket
@ybindir@/basicadd_displaytest
#Documentation
%dir @docdir@
@docdir@/COPYING
%readme @docdir@/README

%files devel-doc
%defattr(-,root,root)
%doc @docdir@
%exclude @docdir@/COPYING
%exclude @docdir@/README

%changelog

